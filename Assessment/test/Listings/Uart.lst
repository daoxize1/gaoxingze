C51 COMPILER V9.57.0.0   UART                                                              03/04/2020 18:42:12 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\Objects\Uart.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Uart.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\Uart
                    -.lst) OBJECT(.\Objects\Uart.obj)

line level    source

   1          #include <STC12C5A60S2.H>
   2          char Output[40]={"Please input password!"};
   3          char Input[30];
   4          void UartInit(void)             //9600bps@32MHz
   5          {
   6   1              PCON |= 0x80;           //使能波特率倍速位SMOD
   7   1              SCON = 0x50;            //8位数据,可变波特率
   8   1              AUXR |= 0x04;           //独立波特率发生器时钟为Fosc,即1T
   9   1              BRT = 0x30;             //设定独立波特率发生器重装值
  10   1              AUXR |= 0x01;           //串口1选择独立波特率发生器为波特率发生器
  11   1              AUXR |= 0x10;           //启动独立波特率发生器
  12   1              ES = 1;
  13   1      }
  14          
  15          void UartInterrupt() interrupt 4
  16          {
  17   1              unsigned char i = 0;
  18   1              TI = 0;
  19   1              do
  20   1              {
  21   2                      SBUF = Output[i];
  22   2                      while(!TI);
  23   2                      TI = 0;
  24   2                      i++;
  25   2              }while(Output[i]!='\0');
  26   1              Input[0] = SBUF;
  27   1              RI = 0;
  28   1      
  29   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     70    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     70    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
